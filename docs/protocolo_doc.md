# Protocolo:

Cuando una computadora recibe la orden de escribir, chequea si existe otro dispositivo escribiendo en la red. Para detectarlo hace una lectura de su único puerto y si recibe un valor `None` entonces es porque no hay otra computadora enviando información a la red y por tanto puede escribir sin que exista una colisión. En caso de que al leer detecte `0` o `1` es porque existe otra computadora enviando información a la red, lo cual provoca que al tratar la primera computadora de enviar información a la red ocurra una colisón. Para dar solución a esta colisión adoptamos el siguiente protocolo. Como se mencionó anteriormente una computadora antes de escribir hace una lectura por su único puerto y si detecta `0` o `1` entonces escribe en su `.txt` asociado que ocurrió una colisión y se encola la instrucción que ordenó a dicha computadora en una lista de instrucciones pendientes. Las instrucciones en la lista de instrucciones pendientes tratarán de ejecutarse en cada milisegundo posterior a su encolamiento. Mientras exista una computadora que este transmiiendo las instrucciones en la lista de instrucciones pendientes tratarán de ejecutarse pero no podrán hacerlo dado que ocurre una colisión, lo cual hace que la computadora que fue ordenada a mandar información por alguna instrucción reporte que existió una colisión y se procederá al nuevo encolamiento de la instrucción. Cuando en la red no haya ninguna computadora transmitiendo entonces se pasa a ejecutar la primera instrución en la lista de instrucciones pendientes mientras que el resto de estas volverán a ser encoladas, detectándose nuevamente que existieron colisiones. Existe el caso de que una computadora $A$ esté transmitiendo en una red $X$ y una computadora $B$ esté transmitiendo en una red $Y$. La simulación de la red permite que en este caso ambas computadoras transmitan a la vez pero podría pasar que en medio de estas transmisiones ambas redes se conectasen dando lugar a una red en que dos computadoras estarían tratando de transmitir, dando lugar inevitablemente a una colisión. El protocolo que empleamos para resolver el problema que genera dicha colisión es seleccionar aleatoriamente una de las dos computadoras que están transmitiendo y darle prioridad con respecto a la otra. Es decir la seleccionada continuará su transmisión, ahora por toda la red que se originó por la fusión de las dos redes que existían anteriormente, mientras que la computadora que no fue priorizada reportará la existencia de una colisión y la instrucción que ordenó a dicha computadora a transmitir se encolará en la lista de instrucciones pendientes.  

